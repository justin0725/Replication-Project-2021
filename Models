library(fixest)
start <- Sys.time()
# Run all models at once
panelA_models <- feols(data = model_df %>% filter(year <= 2014),
                                #'hetero', # robust standard errors? # this line does robust standard errors
                                cluster = c("statefip", "year"), # this lines does clustered standard errors - can't do both it and the above line together
                                collin.tol = 0.000000000000000000001,
                                fml =
                                  # outcome variables
                                  c(outcome_worked_last_week,
                                    outcome_labor_force,
                                    outcome_unemployed,
                                    outcome_income,
                                    outcome_hours_worked,
                                    outcome_worked_last_year,
                                    outcome_self_employed,
                                    outcome_school_attendance,
                                    outcome_ged) ~
                                  eligible +
                                  after_daca +
                                  did_term +
                                  demo_some_college + 
                                  demo_college +
                                  demo_male  +
                                  demo_black +
                                  demo_asian +
                                  demo_married +
                                  state_unemployment |
                                  demo_age +
                                  age_of_entry +
                                  year +
                                  statefip +
                                  statefip^year
                                )

end <- Sys.time()
print(end-start)
